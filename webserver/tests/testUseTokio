#[tokio::test]
async fn health (){
    spawn_app();
    let client =  reqwest::Client::new();
    let resp = client.get("http://127.0.0.1:8080/health").send().await.expect("Failed to send request");
    assert_eq!(resp.status(), 200);
}
//this is a use from lib.rs
 fn spawn_app() {
    let server = webserver::run().expect("Failed to run server");
    let _ = tokio::spawn(async move {
        server.await.unwrap();
    });

}